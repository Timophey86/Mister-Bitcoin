(this["webpackJsonpmister-bitcoin"]=this["webpackJsonpmister-bitcoin"]||[]).push([[0],{123:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),s=n.n(c),o=(n(95),n(96),n(9)),i=n(16),u=n(17),p=n(19),l=n(18),h=n(85),m=(n(97),n(31)),d=n.p+"static/media/wrapped-bitcoin-wbtc-logo.fa29bebf.svg",j=n.p+"static/media/menu.de21b81a.svg",f=n(1);function b(){var e=Object(r.useState)("hide"),t=Object(h.a)(e,2),n=t[0],a=t[1];return Object(f.jsx)("div",{className:"header main-container",children:Object(f.jsxs)("div",{className:"header-container",children:[Object(f.jsxs)("h2",{children:[Object(f.jsx)("img",{className:"logo",src:d,alt:""})," Mister Bitcoin"]}),Object(f.jsxs)("div",{className:"flex btn-container "+n,children:[Object(f.jsx)("button",{className:"clean-btn",children:Object(f.jsx)(m.c,{exact:!0,to:"/",children:"Home"})}),Object(f.jsx)("button",{className:"clean-btn",children:Object(f.jsx)(m.c,{exact:!0,to:"/Contacts",children:"Contacts"})}),Object(f.jsx)("button",{className:"clean-btn",children:Object(f.jsx)(m.c,{exact:!0,to:"/Statistics",children:"Statistics"})}),Object(f.jsx)("button",{className:"clean-btn",children:Object(f.jsx)(m.c,{exact:!0,to:"/signup",children:"Log Out"})})]}),Object(f.jsx)("img",{onClick:function(){a((function(e){return"show"===e?"hide":"show"}))},className:"hamburger",src:j,alt:""})]})})}var v=n(3),O=n.n(v),g=n(7),x={getContacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(t,n){var r,a=N();a?r=a:(r=C,S(C)),e&&e.name&&(r=w(e.name)),t(y(r))}))},getContactById:function(e){return new Promise((function(t,n){var r=N();if(r){var a=r.find((function(t){return t._id===e}));a?t(a):n("Contact id ".concat(e," not found!"))}else{var c=C.find((function(t){return t._id===e}));c?t(c):n("Contact id ".concat(e," not found!")),S(C)}}))},deleteContact:function(e){return new Promise((function(t,n){var r=N();if(r){var a=r.findIndex((function(t){return t._id===e}));-1!==a&&r.splice(a,1),S(r),t(r)}else{var c=C.findIndex((function(t){return t._id===e}));-1!==c&&C.splice(c,1),S(C),t(C)}}))},saveContact:function(e){return e._id?function(e){return new Promise((function(t,n){var r=N();if(r){var a=r.findIndex((function(t){return e._id===t._id}));-1!==a?r[a]=e:n(),S(r),t(e)}else{var c=C.findIndex((function(t){return e._id===t._id}));-1!==c?C[c]=e:n(),S(C),t(e)}}))}(e):function(e){return new Promise((function(t,n){var r=N();r?(e._id=k(),r.push(e),S(r),t(e)):(e._id=k(),C.push(e),S(C),t(e))}))}(e)},getEmptyContact:function(){return{name:"",email:"",phone:"",img:"https://randomuser.me/api/portraits/men/38.jpg",moves:[]}}},C=[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824",img:"https://randomuser.me/api/portraits/men/0.jpg",moves:[]},{_id:"5a5664025f6ae9aa24a99fde",name:"Hallie Mclean",email:"halliemclean@renovize.com",phone:"+1 (948) 464-2888",img:"https://randomuser.me/api/portraits/men/1.jpg",moves:[]},{_id:"5a56640252d6acddd183d319",name:"Parsons Norris",email:"parsonsnorris@renovize.com",phone:"+1 (958) 502-3495",img:"https://randomuser.me/api/portraits/men/2.jpg",moves:[]},{_id:"5a566402ed1cf349f0b47b4d",name:"Rachel Lowe",email:"rachellowe@renovize.com",phone:"+1 (911) 475-2312",img:"https://randomuser.me/api/portraits/men/3.jpg",moves:[]},{_id:"5a566402abce24c6bfe4699d",name:"Dominique Soto",email:"dominiquesoto@renovize.com",phone:"+1 (807) 551-3258",img:"https://randomuser.me/api/portraits/men/4.jpg",moves:[]},{_id:"5a566402a6499c1d4da9220a",name:"Shana Pope",email:"shanapope@renovize.com",phone:"+1 (970) 527-3082",img:"https://randomuser.me/api/portraits/men/5.jpg",moves:[]},{_id:"5a566402f90ae30e97f990db",name:"Faulkner Flores",email:"faulknerflores@renovize.com",phone:"+1 (952) 501-2678",img:"https://randomuser.me/api/portraits/men/6.jpg",moves:[]},{_id:"5a5664027bae84ef280ffbdf",name:"Holder Bean",email:"holderbean@renovize.com",phone:"+1 (989) 503-2663",img:"https://randomuser.me/api/portraits/men/7.jpg",moves:[]},{_id:"5a566402e3b846c5f6aec652",name:"Rosanne Shelton",email:"rosanneshelton@renovize.com",phone:"+1 (968) 454-3851",img:"https://randomuser.me/api/portraits/men/8.jpg",moves:[]},{_id:"5a56640272c7dcdf59c3d411",name:"Pamela Nolan",email:"pamelanolan@renovize.com",phone:"+1 (986) 545-2166",img:"https://randomuser.me/api/portraits/men/9.jpg",moves:[]},{_id:"5a5664029a8dd82a6178b15f",name:"Roy Cantu",email:"roycantu@renovize.com",phone:"+1 (929) 571-2295",img:"https://randomuser.me/api/portraits/men/10.jpg",moves:[]},{_id:"5a5664028c096d08eeb13a8a",name:"Ollie Christian",email:"olliechristian@renovize.com",phone:"+1 (977) 419-3550",img:"https://randomuser.me/api/portraits/men/11.jpg",moves:[]},{_id:"5a5664026c53582bb9ebe9d1",name:"Nguyen Walls",email:"nguyenwalls@renovize.com",phone:"+1 (963) 471-3181",img:"https://randomuser.me/api/portraits/men/12.jpg",moves:[]},{_id:"5a56640298ab77236845b82b",name:"Glenna Santana",email:"glennasantana@renovize.com",phone:"+1 (860) 467-2376",img:"https://randomuser.me/api/portraits/men/13.jpg",moves:[]},{_id:"5a56640208fba3e8ecb97305",name:"Malone Clark",email:"maloneclark@renovize.com",phone:"+1 (818) 565-2557",img:"https://randomuser.me/api/portraits/men/14.jpg",moves:[]},{_id:"5a566402abb3146207bc4ec5",name:"Floyd Rutledge",email:"floydrutledge@renovize.com",phone:"+1 (807) 597-3629",img:"https://randomuser.me/api/portraits/men/15.jpg",moves:[]},{_id:"5a56640298500fead8cb1ee5",name:"Grace James",email:"gracejames@renovize.com",phone:"+1 (959) 525-2529",img:"https://randomuser.me/api/portraits/men/16.jpg",moves:[]},{_id:"5a56640243427b8f8445231e",name:"Tanner Gates",email:"tannergates@renovize.com",phone:"+1 (978) 591-2291",img:"https://randomuser.me/api/portraits/men/17.jpg",moves:[]},{_id:"5a5664025c3abdad6f5e098c",name:"Lilly Conner",email:"lillyconner@renovize.com",phone:"+1 (842) 587-3812",img:"https://randomuser.me/api/portraits/men/18.jpg",moves:[]}];function y(e){return e.sort((function(e,t){return e.name.toLocaleLowerCase()<t.name.toLocaleLowerCase()?-1:e.name.toLocaleLowerCase()>t.name.toLocaleLowerCase()?1:0}))}function w(e){return e=e.toLocaleLowerCase(),C.filter((function(t){return t.name.toLocaleLowerCase().includes(e)||t.phone.toLocaleLowerCase().includes(e)||t.email.toLocaleLowerCase().includes(e)}))}function k(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function S(e){return sessionStorage.setItem("contacts",JSON.stringify(e)),e}function N(){return JSON.parse(sessionStorage.getItem("contacts"))}var U={getUser:function(){return Object(o.a)({},_)},login:function(e,t){return M.apply(this,arguments)},signup:function(e){return D.apply(this,arguments)},addMove:function(e){return I.apply(this,arguments)},getUsers:function(){var e=B();if(!e)return z(T),[].concat(T);return e}},_={name:"Reggie Wallace",coins:100,password:123,moves:[]},T=[{name:"Reggie Wallace",coins:100,password:123,moves:[]},{name:"Tubby White",coins:100,password:123,moves:[]}];function I(){return(I=Object(g.a)(O.a.mark((function e(t){var n,r,a,c,s,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getContacts();case 2:return n=e.sent,(r=n.find((function(e){return e._id===t.toId}))).moves.push(t),e.next=7,x.saveContact(r);case 7:return a=e.sent,e.next=10,R(t.fromUser.name);case 10:return(c=e.sent).moves.push(t),c.coins=c.coins-t.amount,F(s=L(c)),o={updatedUser:s,updatedContact:a},e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(g.a)(O.a.mark((function e(t,n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",Promise.reject("Invalid username or password"));case 5:if(r.password===n){e.next=8;break}return e.abrupt("return",Promise.reject("Invalid username or password"));case 8:return F(r),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(g.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.name&&t.password){e.next=2;break}return e.abrupt("return",Promise.reject("fullname, username and password are required!"));case 2:return e.abrupt("return",Promise.resolve(E(t)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return P.apply(this,arguments)}function P(){return(P=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=B())?(n.push(t),F(t),z(n)):(T.push(t),F(t),z(T)),e.abrupt("return",t);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function L(e){var t=B();if(t){var n=t.findIndex((function(t){return t.name===e.name}));return t[n]=e,z(t),e}var r=T.findIndex((function(t){return t.name===e.name}));return T[r]=e,z(T),e}function R(e){return A.apply(this,arguments)}function A(){return(A=Object(g.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=B(),n=r?r.find((function(e){return e.name===t})):T.find((function(e){return e.name===t})),e.abrupt("return",n);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function F(e){return sessionStorage.setItem("loggedInUser",JSON.stringify(e)),e}function z(e){return sessionStorage.setItem("users",JSON.stringify(e)),e}function B(){return JSON.parse(sessionStorage.getItem("users"))}var J=n(58),q=n.n(J),Y="rate",H="price",G="transactions",W={getRate:function(e){return X.apply(this,arguments)},getMarketPrice:function(){return K.apply(this,arguments)},getConfirmedTransactions:function(){return V.apply(this,arguments)}};function X(){return(X=Object(g.a)(O.a.mark((function e(t){var n,r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=JSON.parse(localStorage.getItem(Y))){e.next=8;break}return e.next=4,q.a.get("https://blockchain.info/tobtc?currency=USD&value=1");case 4:r=e.sent,a=r.data,n=1/a,localStorage.setItem(Y,JSON.stringify(n));case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(g.a)(O.a.mark((function e(){var t,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem(H))){e.next=8;break}return e.next=4,q.a.get("https://api.blockchain.info/charts/market-price?timespan=3months&format=json&cors=true");case 4:n=e.sent,r=n.data,localStorage.setItem(H,JSON.stringify(r)),t=r;case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(g.a)(O.a.mark((function e(){var t,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem(G))){e.next=8;break}return e.next=4,q.a.get("https://api.blockchain.info/charts/n-transactions?timespan=3months&format=json&cors=true");case 4:n=e.sent,r=n.data,localStorage.setItem(G,JSON.stringify(r)),t=r;case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=n(22),Z=(n(123),n(67)),$=n.n(Z),ee=(n(126),function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={showMoves:!0},e}return Object(u.a)(n,[{key:"toggleShowMoves",value:function(){this.setState((function(e){return{showMoves:!e.showMoves}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.moves,r=t.isContact,a=n.map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"move",children:["To: ",e.to.name]}),Object(f.jsxs)("div",{children:["At: ",Object(f.jsx)($.a,{format:"YYYY-MM-DD HH:mm",date:e.at})]}),Object(f.jsxs)("div",{children:["Amount: ",e.amount]}),Object(f.jsx)("hr",{})]},t)})),c=n.map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:["From: ",e.fromUser.name]}),Object(f.jsxs)("div",{children:["At: ",Object(f.jsx)($.a,{format:"YYYY-MM-DD HH:mm",date:e.at})]}),Object(f.jsxs)("div",{children:["Amount: ",e.amount]}),Object(f.jsx)("hr",{})]},t)}));return Object(f.jsxs)("div",{className:"moveList",children:[!!n.length&&!r&&Object(f.jsxs)("div",{className:"moves-list",children:[1===n.length&&Object(f.jsxs)("div",{children:[Object(f.jsxs)("h4",{children:["You have ",n.length," move on your account"]}),Object(f.jsx)("hr",{}),a]}),n.length>1&&n.length<3&&Object(f.jsxs)("div",{children:[Object(f.jsxs)("h4",{children:["You have ",n.length," moves on your account"]}),Object(f.jsx)("hr",{}),a]}),n.length>=3&&Object(f.jsxs)("div",{children:[" ",Object(f.jsx)("h4",{children:"Your last 3 moves on your account"}),Object(f.jsx)("hr",{}),a.slice(a.length-3,a.length)]})]}),!this.state.showMoves&&r&&!!n.length&&Object(f.jsx)("div",{className:"show-moves-btn",onClick:function(){e.toggleShowMoves()},children:"Show moves to contact"}),!!n.length&&this.state.showMoves&&r&&Object(f.jsxs)("div",{className:"moves-list-contact",children:[Object(f.jsx)("h4",{children:"Moves to current contact:"}),Object(f.jsx)("hr",{}),c,Object(f.jsx)("div",{className:"hide-btn",onClick:function(){e.toggleShowMoves()},children:"Hide"})]}),!n.length&&Object(f.jsx)("div",{className:"no-recent-moves",children:"No recent moves on account"})]})}}]),n}(r.Component)),te=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:null,rate:null},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.currUser?this.setState({user:this.props.currUser},this.getCurrRate):(this.loadUser(),this.getCurrRate());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadUser",value:function(){var e=U.getUser();this.setState({user:e})}},{key:"getCurrRate",value:function(){var e=Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getRate();case 2:t=e.sent,this.setState({rate:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rateFormated",get:function(){return this.state.rate.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2})}},{key:"render",value:function(){var e=this.state,t=e.user,n=e.rate;return Object(f.jsxs)("div",{children:[t&&Object(f.jsxs)("div",{className:"user-card",children:[Object(f.jsx)("div",{className:"user-img-container",children:Object(f.jsx)("img",{className:"user-img",src:"https://upload.wikimedia.org/wikipedia/commons/d/d7/Karamo_Brown_in_2019.jpg",alt:""})}),Object(f.jsxs)("h3",{children:["Welcome ",t.name]}),Object(f.jsxs)("p",{children:["You currently have ",Object(f.jsx)("span",{className:"coin-amounts",children:t.coins})," coins."]})]}),n&&Object(f.jsxs)("div",{children:[Object(f.jsxs)("h3",{className:"currRate",children:["Current Bitcoin rate: ",this.rateFormated]}),Object(f.jsx)(ee,{moves:t.moves})]})]})}}]),n}(r.Component),ne=Object(Q.b)((function(e){return{currUser:e.userReducer.currUser}}))(te),re=(n(127),n(128),n(82)),ae=n.n(re);function ce(e){var t=e.contact,n=e.removeContact;return Object(f.jsx)(m.b,{to:"/Contacts/"+t._id,children:Object(f.jsxs)("div",{className:"contact-preview",children:[Object(f.jsx)("h4",{children:t.name}),Object(f.jsx)("img",{src:t.img,alt:""}),Object(f.jsx)("p",{children:t.email}),Object(f.jsx)("p",{children:t.phone}),Object(f.jsx)("span",{className:"remove",onClick:function(){return n(t._id)},children:Object(f.jsx)(ae.a,{})})]})})}function se(e){var t=e.contacts,n=e.removeContact;return Object(f.jsxs)("div",{className:"contact-list-container",children:[Object(f.jsx)("h2",{children:"Contacts"}),Object(f.jsx)("div",{className:"contact-list",children:t&&t.map((function(e){return Object(f.jsx)(ce,{removeContact:n,contact:e},e._id)}))})]})}n(130);var oe=n(28),ie=(n(131),function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:""},e.handelChange=function(t){var n=t.target,r=n.name,a="number"===n.type?+n.value:n.value;e.setState(Object(oe.a)({},r,a),(function(){return e.props.onChangeFilterBy(Object(o.a)({},e.state))}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.name;return Object(f.jsxs)("form",{onSubmit:function(e){return e.preventDefault},children:[Object(f.jsx)("label",{htmlFor:"name",children:"Search:"}),Object(f.jsx)("input",{type:"text",id:"name",name:"name",value:e,onChange:this.handelChange})]})}}]),n}(r.Component)),ue=n.p+"static/media/add-user-svgrepo-com.8b0fa5cd.svg";function pe(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getContactById(e);case 2:r=t.sent,n({type:"SET_CONTACT",contact:r,contactId:e});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var le=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={filterBy:null},e.removeContact=function(){var t=Object(g.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.removeContact(n);case 2:e.props.history.push("/Contacts/");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChangeFilterBy=function(t){e.setState({filterBy:t},e.getContacts)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.loadContacts(this.state.filterBy);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContacts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.filterBy;this.props.loadContacts(e)}},{key:"render",value:function(){var e=this,t=this.props.contacts;return Object(f.jsx)("div",{className:"contactPage-container",children:Object(f.jsxs)("div",{className:"contactPage",children:[Object(f.jsx)(ie,{onChangeFilterBy:this.onChangeFilterBy}),Object(f.jsx)(se,{contacts:t,removeContact:this.removeContact}),Object(f.jsxs)("button",{className:"add-contact-btn",onClick:function(){e.props.history.push("/Contacts/edit/")},children:[Object(f.jsx)("img",{className:"add-user-img",src:ue,alt:""}),"Add Contact"]})]})})}}]),n}(r.Component),he={loadContacts:function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getContacts(e);case 2:r=t.sent,n({type:"SET_CONTACTS",contacts:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},removeContact:function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.deleteContact(e);case 2:n({type:"DELETE_CONTACT",contactId:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},me=Object(Q.b)((function(e){return{contacts:e.contactsReducer.contacts}}),he)(le),de=(n(132),n(49));function je(e){var t=e.price,n=e.transactions,r=e.priceDetails,a=e.transactionsDetails;return Object(f.jsxs)("div",{className:"chart",children:[Object(f.jsxs)("div",{className:"price-chart-container",children:[Object(f.jsx)("h3",{children:r.name}),Object(f.jsx)(de.Sparklines,{data:t,children:Object(f.jsx)(de.SparklinesLine,{color:"blue"})}),Object(f.jsx)("p",{children:r.description})]}),Object(f.jsxs)("div",{className:"transactions-chart-container",children:[Object(f.jsx)("h3",{children:a.name}),Object(f.jsx)(de.Sparklines,{data:n,children:Object(f.jsx)(de.SparklinesLine,{color:"red"})}),Object(f.jsx)("p",{children:a.description})]})]})}n(133);var fe=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={price:null,transactions:null},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getMarketPrice(),this.getTransactions()}},{key:"getMarketPrice",value:function(){var e=Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getMarketPrice();case 2:t=e.sent,this.setState({price:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransactions",value:function(){var e=Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getConfirmedTransactions();case 2:t=e.sent,this.setState({transactions:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"priceForChart",get:function(){return this.state.price.values.map((function(e){return e.y}))}},{key:"transactionsForChart",get:function(){return this.state.transactions.values.map((function(e){return e.y}))}},{key:"render",value:function(){var e=this.state,t=e.price,n=e.transactions;return Object(f.jsx)("div",{children:t&&n&&Object(f.jsx)(je,{price:this.priceForChart,priceDetails:t,transactionsDetails:n,transactions:this.transactionsForChart})})}}]),n}(r.Component),be=(n(134),n.p+"static/media/back-arrow.ff809686.svg"),ve=n.p+"static/media/right-arrow.b7f95d22.svg",Oe=n.p+"static/media/left-arrow.c37d02d5.svg",ge=n(83),xe=n.n(ge);function Ce(){return function(e){e({type:"LOG_OUT"})}}var ye=n(171),we=(n(135),function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={amount:""},e.handelChange=function(t){var n=t.target,r=n.name,a="number"===n.type?+n.value:n.value;e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(oe.a)({},r,a))}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.contact,n=e.onTransferCoins,r=this.state.amount;return Object(f.jsxs)("form",{className:"transferFund",onSubmit:function(e){n(e,r)},children:[Object(f.jsxs)("h4",{children:["Transfer coins to ",t.name]}),Object(f.jsxs)("label",{htmlFor:"coins",children:[Object(f.jsx)(ye.a,{type:"number",id:"amount",name:"amount",value:r,onChange:this.handelChange,label:"Amount"}),Object(f.jsx)("button",{children:"Transfer"})]})]})}}]),n}(r.Component)),ke=n(33),Se=(n(80),function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={errMsg:null},e.onTransferCoins=function(t,n){if(t.preventDefault(),e.props.currUser.coins<n)ke.b.warn("Not enough coins in your balance.",{position:ke.b.POSITION.TOP_CENTER});else{var r={fromUser:e.props.currUser,toId:e.props.contactId,to:e.props.contact,at:new Date,amount:n};e.props.transferCoins(r)}},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getContact();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){e.match.params.id!==this.props.match.params.id&&this.getContact()}},{key:"getContact",value:function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.getContactById(this.props.match.params.id);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.setState({errMsg:"Couldn't find contact with such id",contact:null});case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"prevContactId",value:function(){var e=Object(g.a)(O.a.mark((function e(){var t,n,r,a=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getContacts();case 2:if(t=e.sent,n=t.findIndex((function(e){return e._id===a.props.match.params.id})),r=t[n-1]){e.next=7;break}return e.abrupt("return");case 7:this.props.history.push("/Contacts/"+r._id);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nextContactId",value:function(){var e=Object(g.a)(O.a.mark((function e(){var t,n,r,a=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getContacts();case 2:if(t=e.sent,n=t.findIndex((function(e){return e._id===a.props.match.params.id})),r=t[n+1]){e.next=7;break}return e.abrupt("return");case 7:this.props.history.push("/Contacts/"+r._id);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.contact,r=t.contactId;return n?Object(f.jsxs)("div",{className:"contact-details",children:[Object(f.jsx)(ke.a,{}),n&&Object(f.jsxs)("div",{className:"details-container",children:[Object(f.jsxs)("button",{className:"back-btn",onClick:function(){e.props.history.push("/Contacts")},children:[Object(f.jsx)("img",{className:"back-img",src:be,alt:""}),"Back"]}),Object(f.jsx)("h1",{children:n.name}),Object(f.jsx)("img",{src:n.img,alt:""}),Object(f.jsx)("p",{className:"bio",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Repellendus ex ut quam aspernatur commodi iure ipsa! Odio obcaecati praesentium voluptatem soluta iure et, autem facere aliquam tempore velit voluptatum suscipit!"}),Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"contact-email",children:"My E-Mail: "}),n.email]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"contact-phone",children:"My Phone:"})," ",n.phone]}),Object(f.jsx)(we,{onTransferCoins:this.onTransferCoins,contact:n}),Object(f.jsx)(ee,{isContact:!0,moves:n.moves}),Object(f.jsxs)("button",{className:"edit-contact-btn",onClick:function(){e.props.history.push("/Contacts/edit/"+r)},children:[Object(f.jsx)(xe.a,{}),"Edit"]}),Object(f.jsxs)("div",{className:"move-page",children:[Object(f.jsxs)("button",{onClick:function(){e.prevContactId()},children:[Object(f.jsx)("img",{className:"left",src:Oe,alt:""}),"Prev"]}),Object(f.jsxs)("button",{onClick:function(){e.nextContactId()},children:["Next",Object(f.jsx)("img",{className:"right",src:ve,alt:""})]})]})]})]}):Object(f.jsx)("div",{className:"loading",children:this.state.errMsg||"Loading..."})}}]),n}(r.Component)),Ne={getContactById:pe,transferCoins:function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){var r,a,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.addMove(e);case 2:r=t.sent,a=r.updatedUser,c=r.updatedContact,n({type:"SET_USER",user:a}),n({type:"SET_CONTACT",currContact:c,currContactId:c._id});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Ue=Object(Q.b)((function(e){return{contact:e.contactsReducer.currContact,contactId:e.contactsReducer.currContactId,currUser:e.userReducer.currUser}}),Ne)(Se),_e=n(15),Te=(n(136),function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={contact:null,errMsg:null},e.handelChange=function(t){var n=t.target,r=n.name,a="number"===n.type?+n.value:n.value;e.setState((function(e){return{contact:Object(o.a)(Object(o.a)({},e.contact),{},Object(oe.a)({},r,a))}}))},e.saveContact=function(){var t=Object(g.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e.props.saveContact(Object(o.a)({},e.state.contact));case 3:e.props.history.push("/Contacts/");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getContact(this.props.match.params.id);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContact",value:function(){var e=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return e.prev=1,e.next=4,this.props.getContactById(t);case 4:this.setState({contact:this.props.contact}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.setState({errMsg:"Couldn't find contact"});case 10:e.next=14;break;case 12:n=x.getEmptyContact(),this.setState({contact:n});case 14:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.contact)return Object(f.jsx)("div",{className:"loading",children:this.state.errMsg||"Loading..."});var e=this.state.contact,t=e.name,n=e.email,r=e.phone;return Object(f.jsxs)("form",{className:"contact-edit",onSubmit:this.saveContact,children:[Object(f.jsxs)("label",{htmlFor:"name",children:["Name:",Object(f.jsx)("input",{required:!0,type:"text",id:"name",name:"name",value:t,onChange:this.handelChange})]}),Object(f.jsxs)("label",{htmlFor:"email",children:["E-mail:",Object(f.jsx)("input",{required:!0,type:"text",id:"email",name:"email",value:n,onChange:this.handelChange})]}),Object(f.jsxs)("label",{htmlFor:"phone",children:["Phone:",Object(f.jsx)("input",{required:!0,type:"text",id:"phone",name:"phone",value:r,onChange:this.handelChange})]}),Object(f.jsx)("button",{children:"Save Contact"})]})}}]),n}(r.Component)),Ie={getContactById:pe,saveContact:function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.saveContact(e);case 2:r=t.sent,n({type:"UPDATE_CONTACT",updatedContact:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Me=Object(Q.b)((function(e){return{contact:e.contactsReducer.currContact}}),Ie)(Te),De=(n(137),n(172)),Ee=n(68),Pe=n.n(Ee),Le=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"",password:"",signUpName:"",signUpPassword:"",isSignUp:!1},e.handelChange=function(t){var n=t.target,r=n.name,a="number"===n.type?+n.value:n.value;e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(oe.a)({},r,a))}))},e.login=function(){var t=Object(g.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,e.props.login(e.state.name,e.state.password);case 4:e.props.history.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),ke.b.warn("Wrong Username or password! Please switch to sign up if you don't have an account.",{position:ke.b.POSITION.TOP_CENTER});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),e.signUp=function(){var t=Object(g.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r={name:e.state.signUpName,password:e.state.signUpPassword,coins:100,moves:[]},t.next=4,e.props.signup(r);case 4:e.props.history.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.logout(),this.props.getUsers();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toggleIsSignUp",value:function(){var e=this;this.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{isSignUp:!e.state.isSignUp})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,r=t.password,a=t.signUpName,c=t.signUpPassword,s=t.isSignUp;return Object(f.jsxs)("div",{className:"signupPage",children:[Object(f.jsx)(ke.a,{}),Object(f.jsxs)("h3",{children:[Object(f.jsx)("img",{className:"logo",src:d,alt:""})," Please Log or Sign in to countinue"]}),!s&&Object(f.jsxs)("form",{className:"login",onSubmit:this.login,children:[Object(f.jsx)("h4",{children:"Login"}),Object(f.jsxs)("label",{htmlFor:"name",children:["Username:",Object(f.jsx)("input",{required:!0,type:"text",id:"name",name:"name",value:n,onChange:this.handelChange})]}),Object(f.jsxs)("label",{htmlFor:"password",children:["Password:",Object(f.jsx)("input",{required:!0,type:"number",id:"password",name:"password",value:r,onChange:this.handelChange})]}),Object(f.jsxs)(De.a,{variant:"contained",onClick:function(t){return e.login(t)},size:"medium",children:[Object(f.jsx)(Pe.a,{className:"icon"}),"Log In"]})]}),s&&Object(f.jsxs)("form",{className:"sign-up",onSubmit:this.signUp,children:[Object(f.jsx)("h4",{children:"Or Sign Up"}),Object(f.jsxs)("label",{htmlFor:"name",children:["Username:",Object(f.jsx)("input",{required:!0,type:"text",id:"name",name:"signUpName",value:a,onChange:this.handelChange})]}),Object(f.jsxs)("label",{htmlFor:"password",children:["Password:",Object(f.jsx)("input",{required:!0,type:"number",id:"password",name:"signUpPassword",value:c,onChange:this.handelChange})]}),Object(f.jsxs)(De.a,{variant:"contained",onClick:function(t){return e.signUp(t)},size:"medium",children:[Object(f.jsx)(Pe.a,{className:"icon"})," Sign Up"]})]}),!s&&Object(f.jsx)(De.a,{className:"switch-btn",onClick:function(){return e.toggleIsSignUp()},variant:"contained",size:"medium",children:"Switch to Sign Up"}),s&&Object(f.jsx)(De.a,{className:"switch-btn",onClick:function(){return e.toggleIsSignUp()},variant:"contained",size:"medium",children:"Switch to Login"})]})}}]),n}(r.Component),Re={login:function(e,t){return function(){var n=Object(g.a)(O.a.mark((function n(r){var a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.login(e,t);case 2:a=n.sent,r({type:"SET_USER",user:a});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},signup:function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.signup(e);case 2:r=t.sent,n({type:"ADD_USER",user:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},logout:Ce,getUsers:function(){return function(e){e({type:"GET_USERS",users:U.getUsers()})}}},Ae=Object(Q.b)((function(e){return{currUser:e.userReducer.currUser}}),Re)(Le),Fe=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=function(t){return e.props.currUser?Object(f.jsx)(_e.b,Object(o.a)({},t)):Object(f.jsx)(_e.a,{to:"/signup"})};return Object(f.jsx)(m.a,{children:Object(f.jsxs)("div",{className:"bitcoin-app",children:[this.props.currUser&&Object(f.jsx)(b,{}),Object(f.jsx)("div",{className:"app-container main-container",children:Object(f.jsxs)(_e.d,{children:[Object(f.jsx)(t,{component:Me,path:"/Contacts/edit/:id?"}),Object(f.jsx)(t,{component:Ue,path:"/Contacts/:id"}),Object(f.jsx)(t,{component:fe,path:"/Statistics"}),Object(f.jsx)(t,{component:me,path:"/Contacts"}),Object(f.jsx)(_e.b,{component:Ae,path:"/signup"}),Object(f.jsx)(t,{component:ne,path:"/"})]})})]})})}}]),n}(r.Component),ze={logout:Ce},Be=Object(Q.b)((function(e){return{currUser:e.userReducer.currUser}}),ze)(Fe);var Je=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(Be,{})})},qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,174)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},Ye=n(39),He=n(57),Ge={contacts:[],currContact:null,currContactId:null};var We={currUser:null,users:[]};var Xe=n(84),Ke=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ye.d,Ve=Object(Ye.c)({contactsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTACTS":return Object(o.a)(Object(o.a)({},e),{},{contacts:t.contacts});case"SET_CONTACT":return Object(o.a)(Object(o.a)({},e),{},{currContact:t.contact,currContactId:t.contactId});case"ADD_CONTACT":return Object(o.a)(Object(o.a)({},e),{},{contacts:[].concat(Object(He.a)(e.contacts),[t.contact])});case"DELETE_CONTACT":return Object(o.a)(Object(o.a)({},e),{},{contacts:e.contacts.filter((function(e){return e._id!==t.contactId}))});case"UPDATE_CONTACT":var n=t.updatedContact;return Object(o.a)(Object(o.a)({},e),{},{contacts:e.contacts.map((function(e){return e._id===n._id?n:e}))});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"SET_USER":return Object(o.a)(Object(o.a)({},e),{},{currUser:t.user});case"GET_USERS":return Object(o.a)(Object(o.a)({},e),{},{users:t.users});case"ADD_USER":return Object(o.a)(Object(o.a)({},e),{},{users:[].concat(Object(He.a)(e.users),[t.user]),currUser:t.user});case"LOG_OUT":return Object(o.a)(Object(o.a)({},e),{},{currUser:null});default:return e}}}),Qe=Object(Ye.e)(Ve,Ke(Object(Ye.a)(Xe.a)));s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(Q.a,{store:Qe,children:Object(f.jsx)(Je,{})})}),document.getElementById("root")),qe()},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){}},[[138,1,2]]]);
//# sourceMappingURL=main.7086a64c.chunk.js.map